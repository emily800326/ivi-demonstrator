var __originalConsole = console;

if (window.location.search.indexOf("persistentConsole") >= 0) {
    /**
     * Proxy class for providing persistent messaging for HTML console messages. 
     * 
     * @class console
     * @namespace PersistentConsole
     */
    var console = (function () {
        function PersistentConsole() {
        };

        /**
         * Logs information to console
         * @method log
         */
        PersistentConsole.prototype.log = function () {
            __originalConsole.log.apply(__originalConsole, arguments);
            $.post("/log", { level: "log", message: arguments });
        };

        /**
         * Logs warning to console
         * @method warn
         */
        PersistentConsole.prototype.warn = function () {
            __originalConsole.warn.apply(__originalConsole, arguments);
            $.post("/log", { level: "warn", message: arguments });
        };

        /**
         * Logs information to console
         * @method info
         */
        PersistentConsole.prototype.info = function () {
            __originalConsole.info.apply(__originalConsole, arguments);
            $.post("/log", { level: "info", message: arguments });
        };

        /**
         * Logs debug message to console
         * @method debug
         */
        PersistentConsole.prototype.debug = function () {
            __originalConsole.debug.apply(__originalConsole, arguments);
            $.post("/log", { level: "debug", message: arguments });
        };

        /**
         * Logs error to console
         * @method error
         */
        PersistentConsole.prototype.error = function () {
            __originalConsole.error.apply(__originalConsole, arguments);
            $.post("/log", { level: "error", message: arguments });
        };

        return new PersistentConsole();
    })();
}